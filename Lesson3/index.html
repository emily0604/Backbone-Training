<!DOCTYPE html>
<html>
<head lang='en'>
  <meta charset='UTF-8'>
  <title></title>
</head>
<body>
<ul id='notes' class='container'></ul>

<!-- ========= -->
<!-- Libraries -->
<!-- ========= -->
<script src='http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js' type='text/javascript'></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js'
        type='text/javascript'></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js' type='text/javascript'></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/backbone-localstorage.js/1.0/backbone.localStorage-min.js'
        type='text/javascript'></script>


<script type='text/javascript'>
  (function () {
    var ProductRouter = Backbone.Router.extend({
      routes: {
        '': 'index',
        'product/:id': 'viewProduct',
        'product/:id/edit': 'editProduct'
      },

      index: function () {
        $(document.body).append('Index route has been called..');
      },
      viewProduct: function(id) {
        $(document.body).append('<p>you are viewing product : ' + id + '</p>')
        this.navigate('product/' + id + '/edit', {trigger: true});
      },
      editProduct: function(id) {
        $(document.body).append('<p>you are editting product : ' + id + '</p>')
      }
    });

    var app = new ProductRouter;
    app.on('route:index', function() {
      alert('trigger call back')
    })

    Backbone.history.start();
  })();
</script>


</body>
</html>